const express = require('express')
//import prisma
const prisma = require('./prisma/prismaClient')

const server = express()

server.get('/', (req, res) => {
  res.send('Server is live and ready to give you the data')
})

//Get all Quotes
server.get('/quotes', async (req, res) => {
  try{
      let quotes = await prisma.quote.findMany()
      res.send(quotes)
  }
  catch(error){
      res.send(error)
     }
})

//Get all Authors
server.get('/authors', async (req, res) => {
  try{
    let authors = await prisma.author.findMany()
    res.send(authors)
  }
  catch(error){
    res.send(error)
  }
})

//create an author
server.post('/author', async (req, res) => {
  try{
    let author = await prisma.author.create({
      data: {
        name: "Travis Greene",
        photo: "data:image/jpeg;base64,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"
      }
    })
    res.send(author)
  }
  catch(error){
    res.send(error)
  }


})

const PORT = 4001;

server.listen(PORT, () => {
    console.log(`Server is running on http://localhost:${PORT}`);
    });